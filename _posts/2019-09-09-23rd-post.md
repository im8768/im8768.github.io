과제 진행상황

> 최신버전에서의 strlcpy 및 소스코드 비교

> strlcpy 와 strlen 반환값 비교

> memcpy를 활용한 strlcpy 개선방향 분석

- 코드
https://android.googlesource.com/platform/frameworks/base/+/refs/tags/android-6.0.1_r77/core/jni/com_android_internal_content_NativeLibraryHelper.cpp?autodive=0%2F%2F%2F%2F%2F%2F%2F#298

https://android.googlesource.com/platform/system/core/+/refs/tags/android-6.0.1_r81/libcutils/strlcpy.c

<1> 최신버전에서의 strlcpy 및 소스코드 비교

https://android.googlesource.com/platform/system/core/+/refs/tags/android-7.0.0_r1/libcutils/strlcpy.c
https://android.googlesource.com/platform/system/core/+/refs/tags/android-8.0.0_r1/libcutils/strlcpy.c
https://android.googlesource.com/platform/system/core/+/refs/tags/android-9.0.0_r1/libcutils/strlcpy.c
https://android.googlesource.com/platform/frameworks/base/+/refs/tags/android-10.0.0_r1/core/jni/com_android_internal_content_NativeLibraryHelper.cpp


> 7,8,9,10 버전 모두 strlcpy 코드 동일
> NativeLibrary.cpp의 if문도 버전 관계없이 동일


<2> strlcpy 와 strlen 반환값 비교

- 무작위로 값을 입력받아 출력하는 프로그램 제작

<div>
<img width="100%" src="https://user-images.githubusercontent.com/34255526/64608295-4c355780-d405-11e9-8d63-0a6cb95dcee8.JPG">
</div>

> 반환값 동일


<3> memcpy를 활용한 strlcpy 개선방향 분석

- 인터넷에서 구현되어있는 다양한 memcpy를 찾아보고 개선방향 분석
- 각 소스코드의 속도를 비교하는 프로그램 제작
- 무작위로 생성되는 1만개의 문자열을 30만회 측정

<div>
<img width="100%" src="https://user-images.githubusercontent.com/34255526/64608716-42602400-d406-11e9-9cfa-20fd157bbe82.JPG">
</div>


> 기존 라이브러리 내에 존재하는 memcpy의 성능이 압도적이며 strlen까지 사용해도 여전히 가장 빠름

> 안드로이드 내에 구현되어있는 strlcpy를 개선하는것보다 memcpy와 strlen를 그대로 활용하는게 낫다는 결론
