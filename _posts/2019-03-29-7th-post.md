
5.1 Zygote란 무엇인가?

Zygote 프로세스는 실행되면서 Dalvik 가상머신을 초기화 하고 구동시킨다.
안드로이드 어플리케이션은 java로 작성되어있어 리눅스 상에서 네이티브 프로세스로 실행될 수 없으며 달빅 가상머신에서 동작한다.
가상머신을 실행하고 초기화하는 과정에는 많은 시간이 소요되기때문에 어플리케이션을 느리게하는 주요 원인이 된다.
때문에 Zygote 프로세스는 실행된 가상 머신의 코드 및 메모리 정보를 공유함으로써 어플리케이션이 실행되는 시간을 단축시킬 수 있다.

5.1.1 Zygote를 통한 프로세스의 생성

Zygote 프로세스는 init 프로세스가 시스템 구동에 필요한 각종 데몬을 실행하고 난 뒤 실행된다.
Zygote 프로세스는 fork() 시스템 콜을 호출해 자식 프로세스는 Zygote'를 생성하고 생성된 프로세스는 부모의 코드영역과 링크 정보를 공유한다.
새로운 안드로이드 어플리케이션은 복제된 달빅 가상머신 위에 동적으로 로딩되고 이후 Zygote' 프로세스가 어플리케이션으로 실행 흐름을 넘겨 어플리케이션이 동작하게 된다.

5.2 app_process로부터 ZygoteInit class 실행

Zygote는 자바로 작성되어 있기때문에 달빅 가상머신이 생성되고 나서 ZygoteInit 클래스를 로딩하고 실행해야하는데 이 작업을 수행하는 프로세스가 app_process 이다.


